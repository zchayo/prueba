<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>window.jQuery || document.write(decodeURIComponent('%3Cscript src="js/jquery.min.js"%3E%3C/script%3E'))</script>
    <link rel="stylesheet" type="text/css" href="https://cdn3.devexpress.com/jslib/23.1.4/css/dx.light.css" />
    <script src="https://cdn3.devexpress.com/jslib/23.1.4/js/dx.all.js"></script>

    <title>View</title>

    <style>
        .contenedor {
            display: flex;
        }

        .mitad {
            width: 50%;
        }
    </style>

</head>

<body>

    <div id="gridContainer"></div>
    <br>
    <div id="pivotGrid"></div>


    <script type="module">

        import { orders, sales } from './data.grid.js'

        $(function () {

            $('#gridContainer').dxDataGrid({
                dataSource: orders,
                keyExpr: 'ID',
                columnHidingEnabled: true,
                showBorders: true,
                editing: {
                    allowAdding: true,
                    allowUpdating: true,
                    mode: 'batch',
                },
                grouping: {
                    contextMenuEnabled: true,
                    expandMode: 'rowClick',
                },
                groupPanel: {
                    emptyPanelText: 'Use the context menu of header columns to group data',
                    visible: true,
                },
                pager: {
                    allowedPageSizes: [5, 8, 15, 30],
                    showInfo: true,
                    showNavigationButtons: true,
                    showPageSizeSelector: true,
                    visible: true,
                },
                paging: {
                    pageSize: 8,
                },
                columnChooser: {
                    enabled: true,
                    mode: 'select',
                },
                columns: [{
                    allowGrouping: false,
                    dataField: 'OrderNumber',
                    caption: 'Invoice Number',
                    width: 130,
                }, {
                    caption: 'City',
                    dataField: 'CustomerStoreCity',
                }, {
                    caption: 'State',
                    dataField: 'CustomerStoreState',
                },
                    'Employee', {
                    dataField: 'OrderDate',
                    dataType: 'date',
                }, {
                    dataField: 'SaleAmount',
                    format: 'currency',
                }],
            });

            $('#pivotGrid').dxPivotGrid({
                allowSortingBySummary: true,
                allowSorting: true,
                allowFiltering: true,
                allowExpandAll: true,
                height: 440,
                showBorders: true,
                fieldChooser: {
                    enabled: false,
                },
                dataSource: {
                    fields: [{
                        caption: 'Region',
                        width: 120,
                        dataField: 'region',
                        area: 'row',
                    }, {
                        caption: 'City',
                        dataField: 'city',
                        width: 150,
                        area: 'row',
                        selector(data) {
                            return `${data.city} (${data.country})`;
                        },
                    }, {
                        dataField: 'date',
                        dataType: 'date',
                        area: 'column',
                    }, {
                        caption: 'Sales',
                        dataField: 'amount',
                        dataType: 'number',
                        summaryType: 'sum',
                        format: 'currency',
                        area: 'data',
                    }],
                    store: sales,
                },
            });
        
        });





     

    </script>

</body>

</html>